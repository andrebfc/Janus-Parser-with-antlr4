procedure root()

    port p

    struct test
        int a
        int b
        int c
    end

    test.a += 1

    fork test
        test.a += 1
        test.b += 2
        print test.a
        ssend(test.a,p)
    and
        srcv(test.c,p)
        print test.c
    join



procedure main()

    call root()